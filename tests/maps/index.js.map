{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","node_modules/co/index.js","../scripts/globals.js","index.js"],"names":[],"mappings":"AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;QC9NgB,aAAa,GAAb,aAAa;AAR7B,YAAY,CAAC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","file":"index.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","\n/**\n * slice() reference.\n */\n\nvar slice = Array.prototype.slice;\n\n/**\n * Expose `co`.\n */\n\nmodule.exports = co['default'] = co.co = co;\n\n/**\n * Wrap the given generator `fn` into a\n * function that returns a promise.\n * This is a separate function so that\n * every `co()` call doesn't create a new,\n * unnecessary closure.\n *\n * @param {GeneratorFunction} fn\n * @return {Function}\n * @api public\n */\n\nco.wrap = function (fn) {\n  return function () {\n    return co.call(this, fn.apply(this, arguments));\n  };\n};\n\n/**\n * Execute the generator function or a generator\n * and return a promise.\n *\n * @param {Function} fn\n * @return {Function}\n * @api public\n */\n\nfunction co(gen) {\n  var ctx = this;\n  if (typeof gen === 'function') gen = gen.call(this);\n  // we wrap everything in a promise to avoid promise chaining,\n  // which leads to memory leak errors.\n  // see https://github.com/tj/co/issues/180\n  return new Promise(function(resolve, reject) {\n    onFulfilled();\n\n    /**\n     * @param {Mixed} res\n     * @return {Promise}\n     * @api private\n     */\n\n    function onFulfilled(res) {\n      var ret;\n      try {\n        ret = gen.next(res);\n      } catch (e) {\n        return reject(e);\n      }\n      next(ret);\n    }\n\n    /**\n     * @param {Error} err\n     * @return {Promise}\n     * @api private\n     */\n\n    function onRejected(err) {\n      var ret;\n      try {\n        ret = gen.throw(err);\n      } catch (e) {\n        return reject(e);\n      }\n      next(ret);\n    }\n\n    /**\n     * Get the next value in the generator,\n     * return a promise.\n     *\n     * @param {Object} ret\n     * @return {Promise}\n     * @api private\n     */\n\n    function next(ret) {\n      if (ret.done) return resolve(ret.value);\n      var value = toPromise.call(ctx, ret.value);\n      if (value && isPromise(value)) return value.then(onFulfilled, onRejected);\n      return onRejected(new TypeError('You may only yield a function, promise, generator, array, or object, '\n        + 'but the following object was passed: \"' + String(ret.value) + '\"'));\n    }\n  });\n}\n\n/**\n * Convert a `yield`ed value into a promise.\n *\n * @param {Mixed} obj\n * @return {Promise}\n * @api private\n */\n\nfunction toPromise(obj) {\n  if (!obj) return obj;\n  if (isPromise(obj)) return obj;\n  if (isGeneratorFunction(obj) || isGenerator(obj)) return co.call(this, obj);\n  if ('function' == typeof obj) return thunkToPromise.call(this, obj);\n  if (Array.isArray(obj)) return arrayToPromise.call(this, obj);\n  if (isObject(obj)) return objectToPromise.call(this, obj);\n  return obj;\n}\n\n/**\n * Convert a thunk to a promise.\n *\n * @param {Function}\n * @return {Promise}\n * @api private\n */\n\nfunction thunkToPromise(fn) {\n  var ctx = this;\n  return new Promise(function (resolve, reject) {\n    fn.call(ctx, function (err, res) {\n      if (err) return reject(err);\n      if (arguments.length > 2) res = slice.call(arguments, 1);\n      resolve(res);\n    });\n  });\n}\n\n/**\n * Convert an array of \"yieldables\" to a promise.\n * Uses `Promise.all()` internally.\n *\n * @param {Array} obj\n * @return {Promise}\n * @api private\n */\n\nfunction arrayToPromise(obj) {\n  return Promise.all(obj.map(toPromise, this));\n}\n\n/**\n * Convert an object of \"yieldables\" to a promise.\n * Uses `Promise.all()` internally.\n *\n * @param {Object} obj\n * @return {Promise}\n * @api private\n */\n\nfunction objectToPromise(obj){\n  var results = new obj.constructor();\n  var keys = Object.keys(obj);\n  var promises = [];\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var promise = toPromise.call(this, obj[key]);\n    if (promise && isPromise(promise)) defer(promise, key);\n    else results[key] = obj[key];\n  }\n  return Promise.all(promises).then(function () {\n    return results;\n  });\n\n  function defer(promise, key) {\n    // predefine the key in the result\n    results[key] = undefined;\n    promises.push(promise.then(function (res) {\n      results[key] = res;\n    }));\n  }\n}\n\n/**\n * Check if `obj` is a promise.\n *\n * @param {Object} obj\n * @return {Boolean}\n * @api private\n */\n\nfunction isPromise(obj) {\n  return 'function' == typeof obj.then;\n}\n\n/**\n * Check if `obj` is a generator.\n *\n * @param {Mixed} obj\n * @return {Boolean}\n * @api private\n */\n\nfunction isGenerator(obj) {\n  return 'function' == typeof obj.next && 'function' == typeof obj.throw;\n}\n\n/**\n * Check if `obj` is a generator function.\n *\n * @param {Mixed} obj\n * @return {Boolean}\n * @api private\n */\n\nfunction isGeneratorFunction(obj) {\n  var constructor = obj.constructor;\n  return constructor && 'GeneratorFunction' == constructor.name;\n}\n\n/**\n * Check for plain object.\n *\n * @param {Mixed} val\n * @return {Boolean}\n * @api private\n */\n\nfunction isObject(val) {\n  return Object == val.constructor;\n}\n","'use strict';\nexport var $doc = document;\nexport var $win = window;\nexport var $body = $doc.body;\n\nexport var angular = $win.angular;\nexport var queryDom = $doc.querySelector.bind($doc);\n\nexport function documentReady (next) {\n  if ($doc.readyState === 'complete') { return next(); }\n\n  function _loaded () {\n    // after DOM loaded, cleanup\n    $doc.removeEventListener('DOMContentLoaded', _loaded, false);\n    $win.removeEventListener('load', _loaded, false);\n    next();\n  }\n\n  // making double sure we get the document load event\n  $doc.addEventListener('DOMContentLoaded', _loaded, false);\n  $win.addEventListener('load', _loaded, false);\n}\n","// current 6to5 shim doesn't include setImmediate.\n// but on v2.0 it will\n\n/* jshint -W030 */\n\n'use strict';\n\nimport co from 'co';\nimport { angular, queryDom, documentReady, $win, $doc, $body } from 'globals';\n\nmocha.setup('bdd');\nmocha.reporter('html');\n\nvar {expect} = chai;\n\nco(function *() {\n  yield new Promise((res, rej) => documentReady(res));\n  mocha.run();\n});\n\nangular.module('app')\n  .directive('testApp', testsApp);\n\n\n\nexport function testsApp () {\n  return {\n    restrict: 'E',\n    controller: testAppCtrl,\n  };\n}\n\n\nfunction testAppCtrl () {\n  describe('basic globals tests', () => {\n    it('should be functions', () => {\n      expect(queryDom).to.be.instanceof(Function);\n      expect(documentReady).to.be.instanceof(Function);\n    });\n\n    it('should be objects', () => {\n      expect(angular).to.be.instanceof(Object);\n      expect($win).to.be.deep.equal(window);\n      expect($doc).to.be.deep.equal(document);\n      expect($body).to.be.deep.equal(document.body);\n    });\n\n    it('should use spy', () => {\n      var spy = sinon.spy();\n      function tobeSpied (cb) { cb(); cb(); }\n\n      tobeSpied(spy);\n      expect(spy).to.have.been.calledTwice;\n\n    });\n  });\n\n}\n\n\n\n"]}